<% include header %>
<article>
	<div class="container">	 
	    <h2 class="ctitle"><b>列表页</b> 
	    	<span>世界上只有两句真理：1、人一定会死。2、程序一定有Bug。</span>
	    </h2>
	    <div class="rnav">
		    <ul>
		        <li><a href="#">JavaScript</a></li>
		        <li><a href="#">Node.js</a></li>
		        <li><a href="#">CSS3|Html5</a></li>
		        <li><a href="#">框架</a></li>
		        <li><a href="#">插件</a></li>
		        <li><a href="#">bug</a></li>
		    </ul>
	    </div>

	    <ul class="cbp_tmtimeline">
	    	<% article.forEach(function(articles){ %>
			<li>
				<time class="cbp_tmtime"><span><%=articles.ctime.toLocaleString()%></span> <span></span></time>
				<div class="cbp_tmicon"></div>
				<div class="cbp_tmlabel" data-scroll-reveal="enter right over 1s" >
					<h2><%=articles.title%></h2>
					 <p><span class="blogpic"><a href="/"><img src="<%=articles.imgurl%>"></a></span><%=articles.description%></p>
	                 <a href="/content/<%=articles._id%>" target="_blank" class="readmore">阅读全文&gt;&gt;</a>
				</div>
			</li>
			 <% }) %>  		  	
	    </ul>
	   
	  <div class="page">
		    <a href="/<%=router%>?page=<%= page%>">start</a>
		    <a href="/<%=router%>?page=<%=page -1 %>"><<</a>
		    <a href="<%=router%>?router=<%=router%>?page=<%=page-1%>" id="first"><%= page-1%></a>
		    <a href="/<%=router%>?page=<%=page%>"><%= page%></a>
		    <a href="/<%=router%>?page=<%=-(-page-1)%>" ><%= -(-page-1)%></a>
		    <a href="/<%=router%>?page=<%= -(-page -1) %>" id="last">>></a>
		    <a href="/<%=router%>?page=<%= maxPage%>">end</a>
	</div>
	    
  	</div>
  	
</article>
<script>
	var first = document.querySelector('#first');
	var last = document.querySelector('#last');
	console.log(first)
	if(first.innerHTML == 0){
		first.style.display = 'none';
	}
	if(last.innerHTML == <%= -(-page-1)%>){
		last.style.display = 'none';
	}

</script>
<% include footer %>

